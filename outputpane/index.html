<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>OutputPane - Tidegate Optimization Tool</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/tidegates.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "OutputPane";
        var mkdocs_page_input_path = "outputpane.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Tidegate Optimization Tool
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Home</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Instructions</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../user/">How to Use the Optimzation Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Install and Configure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data/">Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../server/">Server</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../targets/">Target Definition</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../project/">Project Data</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Widgets</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../widgets/">Widget Classes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../map/">TGMap</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../regionbox/">RegionBox</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../budgets/">BudgetBox</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../targetbox/">TargetBox</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../infobox/">InfoBox</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">OutputPane</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../downloadpane/">DownloadPane</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../app/">TideGatesApp</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../optipass/">OP (OptiPass Interface)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../main/">Main</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tests/">Tests</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Tidegate Optimization Tool</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Developer</li>
          <li class="breadcrumb-item">Widgets</li>
      <li class="breadcrumb-item active">OutputPane</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h3 id="outputpane">OutputPane</h3>


<div class="doc doc-object doc-class">




  <div class="doc doc-contents first">

  
      <p>After OptiPass has completed the last optimization run the GUI creates
an instance of this class and saves it in the Output tab of the top 
level display.</p>
  
      <p>The first part of the panel has a set of ROI curves
(displayed in a tab widget showing one figure at a time), the second
part has tables showing data about barriers included in solutions.</p>



<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>op</code></b>
              –
              <div class="doc-md-description">
                <p>the main TideGatesApp object containing the optimization parameters</p>
              </div>
            </li>
            <li>
              <b><code>bf</code></b>
              –
              <div class="doc-md-description">
                <p>the Project object that has barrier data</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
                <details class="quote">
                  <summary>Source code in <code>src/tidegates/widgets.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">bf</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Use the optimization parameters (region names, target names, budget</span>
<span class="sd">    levels) and barrier data to format the output from OptiPass.  </span>
<span class="sd">    The first part of the panel has a set of ROI curves</span>
<span class="sd">    (displayed in a tab widget showing one figure at a time), the second</span>
<span class="sd">    part has tables showing data about barriers included in solutions.</span>

<span class="sd">    Arguments:</span>
<span class="sd">      op:  the main TideGatesApp object containing the optimization parameters</span>
<span class="sd">      bf:  the Project object that has barrier data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">OutputPane</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">op</span> <span class="o">=</span> <span class="n">op</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bf</span> <span class="o">=</span> <span class="n">bf</span>
    <span class="c1"># self.figures = []</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;h3&gt;Optimization Complete&lt;/h3&gt;&#39;</span><span class="p">,</span> <span class="n">styles</span><span class="o">=</span><span class="n">header_styles</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_make_title</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">budget_max</span> <span class="o">&gt;</span> <span class="n">op</span><span class="o">.</span><span class="n">budget_delta</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;h3&gt;ROI Curves&lt;/h3&gt;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_make_figures_tab</span><span class="p">())</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;h3&gt;Budget Summary&lt;/h3&gt;&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gate_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">summary</span><span class="o">.</span><span class="n">gates</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gate_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;i&gt;No barriers selected -- consider increasing the budget&lt;/i&gt;&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_make_budget_table</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">Accordion</span><span class="p">(</span>
            <span class="p">(</span><span class="s1">&#39;Barrier Details&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_gate_table</span><span class="p">()),</span>
            <span class="n">stylesheets</span> <span class="o">=</span> <span class="p">[</span><span class="n">accordion_style_sheet</span><span class="p">],</span>
        <span class="p">))</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane._make_budget_table" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">_make_budget_table</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Display a table that has one column for each budget level, showing
which barriers were included in the solution for that level.  Attach
a callback function that is called when the user clicks on a row
in the table (the callback updates the map to show gates used in a
solution).</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">_make_budget_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display a table that has one column for each budget level, showing</span>
<span class="sd">    which barriers were included in the solution for that level.  Attach</span>
<span class="sd">    a callback function that is called when the user clicks on a row</span>
<span class="sd">    in the table (the callback updates the map to show gates used in a</span>
<span class="sd">    solution).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">summary</span><span class="p">[[</span><span class="s1">&#39;budget&#39;</span><span class="p">,</span><span class="s1">&#39;habitat&#39;</span><span class="p">,</span> <span class="s1">&#39;gates&#39;</span><span class="p">]]</span>
    <span class="n">colnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Budget&#39;</span><span class="p">,</span> <span class="s1">&#39;Net Gain&#39;</span><span class="p">,</span> <span class="s1">&#39;gates&#39;</span><span class="p">]</span>
    <span class="n">formatters</span> <span class="o">=</span> <span class="p">{</span> 
        <span class="s1">&#39;Budget&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;money&#39;</span><span class="p">,</span> <span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;$&#39;</span><span class="p">,</span> <span class="s1">&#39;precision&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="s1">&#39;Net Gain&#39;</span><span class="p">:</span> <span class="n">NumberFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="n">text_align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="n">alignment</span> <span class="o">=</span> <span class="p">{</span> 
        <span class="s1">&#39;Budget&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Net Gain&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span>
        <span class="n">df</span><span class="p">,</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">summary</span><span class="o">.</span><span class="n">gates</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">))</span>
    <span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">colnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;# Barriers&#39;</span><span class="p">)</span>
    <span class="n">alignment</span><span class="p">[</span><span class="s1">&#39;# Barriers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">targets</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">abbrev</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">summary</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">summary</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">abbrev</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">short</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weighted</span><span class="p">:</span>
                <span class="n">col</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;⨉</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="n">colnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">NumberFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="n">text_align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">colnames</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">Tabulator</span><span class="p">(</span>
        <span class="n">df</span><span class="p">,</span>
        <span class="n">show_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">hidden_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gates&#39;</span><span class="p">],</span>
        <span class="n">editors</span> <span class="o">=</span> <span class="p">{</span> <span class="n">c</span><span class="p">:</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colnames</span> <span class="p">},</span>
        <span class="n">text_align</span> <span class="o">=</span> <span class="n">alignment</span><span class="p">,</span>
        <span class="n">header_align</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colnames</span><span class="p">},</span>
        <span class="n">formatters</span> <span class="o">=</span> <span class="n">formatters</span><span class="p">,</span>
        <span class="n">selectable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">configuration</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;columnDefaults&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;headerSort&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}},</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_table_cb</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">budget_table</span> <span class="o">=</span> <span class="n">df</span>
    <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane._make_figures_tab" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">_make_figures_tab</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Create a Tabs object with one tab for each ROI curve.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">_make_figures_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Tabs object with one tab for each ROI curve.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tabs</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">Tabs</span><span class="p">(</span>
        <span class="n">tabs_location</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
        <span class="n">stylesheets</span> <span class="o">=</span> <span class="p">[</span><span class="n">tab_style_sheet</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">make_roi_curves</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">display_figures</span><span class="p">:</span>
        <span class="n">tabs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tabs</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane._make_gate_table" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">_make_gate_table</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Make a table showing details about gates used in solutions.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">_make_gate_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make a table showing details about gates used in solutions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">formatters</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
    <span class="n">alignment</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">table_view</span><span class="p">()</span>
    <span class="n">hidden</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Primary&#39;</span><span class="p">,</span><span class="s1">&#39;Dominant&#39;</span><span class="p">]:</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;tickCross&#39;</span><span class="p">,</span> <span class="s1">&#39;crossElement&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
            <span class="n">alignment</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span>
        <span class="k">elif</span> <span class="n">col</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;hab&#39;</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_hab&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">NumberFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="n">text_align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            <span class="c1"># alignment[c] = &#39;center&#39;</span>
        <span class="k">elif</span> <span class="n">col</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;tude&#39;</span><span class="p">):</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">NumberFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;0.00&#39;</span><span class="p">,</span> <span class="n">text_align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            <span class="c1"># alignment[col] = &#39;right&#39;</span>
        <span class="k">elif</span> <span class="n">col</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">):</span>
            <span class="n">hidden</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">col</span> <span class="o">==</span> <span class="s1">&#39;Cost&#39;</span><span class="p">:</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;money&#39;</span><span class="p">,</span> <span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;$&#39;</span><span class="p">,</span> <span class="s1">&#39;precision&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
            <span class="n">alignment</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span>
    <span class="n">colnames</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_hab&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weighted</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">targets</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">short</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">colnames</span><span class="p">:</span>             <span class="c1"># shouldn&#39;t happen, but just in case...</span>
                <span class="k">continue</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">colnames</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">short</span><span class="p">)</span>
            <span class="n">colnames</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;⨉</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="n">formatters</span><span class="p">[</span><span class="n">colnames</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">=</span> <span class="n">NumberFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="n">text_align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">colnames</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">Tabulator</span><span class="p">(</span>
        <span class="n">df</span><span class="p">,</span> 
        <span class="n">show_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
        <span class="n">frozen_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">],</span>
        <span class="n">hidden_columns</span><span class="o">=</span><span class="n">hidden</span><span class="p">,</span>
        <span class="n">formatters</span><span class="o">=</span><span class="n">formatters</span><span class="p">,</span>
        <span class="n">text_align</span><span class="o">=</span><span class="n">alignment</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;columnDefaults&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;headerSort&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}},</span>
        <span class="n">header_align</span><span class="o">=</span><span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">},</span>
        <span class="n">selectable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gate_table</span> <span class="o">=</span> <span class="n">df</span>
    <span class="k">return</span> <span class="n">table</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane._make_title" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">_make_title</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>The top section of the output pane is a title showing the optimization parameters.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">_make_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The top section of the output pane is a title showing the optimization parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">regions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">regions</span>
    <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">short</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">targets</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weighted</span><span class="p">:</span>
        <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">targets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1"> ⨉ </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">targets</span><span class="p">))]</span>
    <span class="n">bmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">budget_max</span>
    <span class="n">binc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">budget_delta</span>
    <span class="k">if</span> <span class="n">bmax</span> <span class="o">&gt;</span> <span class="n">binc</span><span class="p">:</span>
        <span class="n">title_template</span> <span class="o">=</span> <span class="s1">&#39;&lt;p&gt;&lt;b&gt;Regions:&lt;/b&gt; </span><span class="si">{r}</span><span class="s1">; &lt;b&gt;Targets:&lt;/b&gt; </span><span class="si">{t}</span><span class="s1">; &lt;b&gt;Climate:&lt;/b&gt; </span><span class="si">{c}</span><span class="s1">; &lt;b&gt;Budgets:&lt;/b&gt; </span><span class="si">{min}</span><span class="s1"> to </span><span class="si">{max}</span><span class="s1">&lt;/p&gt;&#39;</span>
        <span class="k">return</span> <span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">title_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">r</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span>
            <span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">targets</span><span class="p">),</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">climate</span><span class="p">,</span>
            <span class="nb">min</span> <span class="o">=</span> <span class="n">OP</span><span class="o">.</span><span class="n">format_budget_amount</span><span class="p">(</span><span class="n">binc</span><span class="p">),</span>
            <span class="nb">max</span> <span class="o">=</span> <span class="n">OP</span><span class="o">.</span><span class="n">format_budget_amount</span><span class="p">(</span><span class="n">bmax</span><span class="p">),</span>
        <span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">title_template</span> <span class="o">=</span> <span class="s1">&#39;&lt;p&gt;&lt;b&gt;Regions:&lt;/b&gt; </span><span class="si">{r}</span><span class="s1">; &lt;b&gt;Targets:&lt;/b&gt; </span><span class="si">{t}</span><span class="s1">; &lt;b&gt;Climate:&lt;/b&gt; </span><span class="si">{c}</span><span class="s1">; &lt;b&gt;Budget:&lt;/b&gt; </span><span class="si">{b}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">title_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">r</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span>
            <span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">targets</span><span class="p">),</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">climate</span><span class="p">,</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">OP</span><span class="o">.</span><span class="n">format_budget_amount</span><span class="p">(</span><span class="n">bmax</span><span class="p">),</span>
        <span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane.budget_table_cb" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">budget_table_cb</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>The callback function invoked when the user clicks a row in the budget table.
Use the event to figure out which row was clicked.  Hide any dots that were displayed
previously, then make the dots for the selected row visible.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">budget_table_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The callback function invoked when the user clicks a row in the budget table.</span>
<span class="sd">    Use the event to figure out which row was clicked.  Hide any dots that were displayed</span>
<span class="sd">    previously, then make the dots for the selected row visible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dots</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">row</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dots</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span><span class="p">]</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane.hide_dots" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">hide_dots</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Callback function invoked when users click on a region name in the start panel to hide
any dots that might be on the map.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">hide_dots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Callback function invoked when users click on a region name in the start panel to hide</span>
<span class="sd">    any dots that might be on the map.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dots</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span><span class="p">]</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="src.tidegates.widgets.OutputPane.make_dots" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">make_dots</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Called after the output panel is initialized, make a set of glyphs to display
for each budget level.</p>

          <details class="quote">
            <summary> <code>src/tidegates/widgets.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">make_dots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called after the output panel is initialized, make a set of glyphs to display</span>
<span class="sd">    for each budget level.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;budget_table&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_row</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dots</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_table</span><span class="o">.</span><span class="n">itertuples</span><span class="p">():</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bf</span><span class="o">.</span><span class="n">map_info</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">bf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">BARID</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">gates</span><span class="p">)]</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">circle_dot</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
            <span class="c1"># c = plot.star_dot(&#39;x&#39;, &#39;y&#39;, size=20, line_color=&#39;blue&#39;, fill_color=&#39;white&#39;, source=df)</span>
            <span class="c1"># c = plot.star(&#39;x&#39;, &#39;y&#39;, size=12, color=&#39;blue&#39;, source=df)</span>
            <span class="c1"># c = plot.hex(&#39;x&#39;, &#39;y&#39;, size=12, color=&#39;green&#39;, source=df)</span>
            <span class="n">c</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../infobox/" class="btn btn-neutral float-left" title="InfoBox"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../downloadpane/" class="btn btn-neutral float-right" title="DownloadPane">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../infobox/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../downloadpane/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
